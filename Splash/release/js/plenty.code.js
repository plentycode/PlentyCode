function showContent(){$(".menu-bottom").toggleClass("open"),$(".plenty-logo").toggleClass("logo-to-corner"),$(".plenty-info-box").toggleClass("open"),$(".plenty-social").toggleClass("hidden")}$(function(){plenty.util.getResources(),plenty.models.Info=Backbone.Model.extend({defaults:function(){return{}},get:function(a,b){var c=_.findWhere(plenty.util.getResources(b).pages,{name:a});return c&&c.urlContent&&(c.server=$.get(c.urlContent)),c}}),plenty.models.Contact=Backbone.Model.extend({defaults:function(){return{}},sendContactEmail:function(a){var b=$("#contact-form");plenty.util.validateForm(b)&&(plenty.util.setLoading(b),plenty.api.sendContactEmail(a).done(function(c){c.success?(b.find("input,textarea").val(""),b.find(".form-message").html(plenty.util.getMessage("email-sent",[{username:a.Name}]))):b.find(".form-message").html(plenty.util.getMessage("email-not-sent",[{username:a.Name}])),plenty.util.removeLoading(b)}).error(function(){b.find(".form-message").html(plenty.util.getMessage("email-not-sent",[{username:a.Name}])),plenty.util.removeLoading(b)}))}}),plenty.views.InfoView=Backbone.View.extend({el:$(".plenty-info-box"),template:_.template($("#info-item-template").html()),model:new plenty.models.Info,render:function(a,b){var c=this.model.get(a,b);return c||(a="home",c=this.model.get(a,b)),c.content=c.content||'<div class="loading"></div>',this.$el.html(this.template(c)),c.server&&c.server.done(function(a){if($(".plenty-info-box").find(".plenty-box-content").html(a),$("#contact-form").submit(function(){var a=new plenty.models.Contact,b={Name:$("#contact-name").val(),Email:$("#contact-email").val(),Comments:$("#contact-comments").val()};return a.sendContactEmail(b),!1}),$("#tabs").length>0){new CBPFWTabs(document.getElementById("tabs"))}}),$(".plenty-icon").removeClass("selected"),$('a[href="#'+a+'"]').addClass("selected"),this}}),plenty.Router=Backbone.Router.extend({routes:{"":"index",":goto":"index",":goto/:lang":"index"},initialize:function(){},index:function(a,b){var c=new plenty.views.InfoView;c.render(a,b)}}),new plenty.Router,Backbone.history.start()}),resources={},resources.en={pages:[{name:"home",title:"Welcome!",urlContent:"views/en/home.html"},{name:"contact-us",title:"Contact Us",urlContent:"views/en/contact.html"},{name:"web-pages",title:"Be known in the web",urlContent:"views/en/web_sites.html"},{name:"mobile-apps",title:"Evolve to mobiles",urlContent:"views/en/mobile-apps.html"},{name:"software",title:"Exactly what you need",urlContent:"views/en/software.html"}],messages:[{id:"email-sent",value:"Thanks for contacting us <<USERNAME>>, await interesting news from us shortly! :)"},{id:"email-not-sent",value:"Sorry <<USERNAME>>, your message could not be sent :( but do not worry, write us to <b >info@plentycode.com</b> and let us know!"}],labels:[]},resources.es={pages:[{name:"home",title:"Bienvenido!",urlContent:"views/es/home.html"},{name:"contact-us",title:"Contáctanos",urlContent:"views/es/contact.html"},{name:"web-pages",title:"Hazte conocer en la web",urlContent:"views/es/web_sites.html"},{name:"mobile-apps",title:"Evoluciona a móviles",urlContent:"views/es/mobile-apps.html"},{name:"software",title:"Justo como lo necesitas!",urlContent:"views/es/software.html"}],messages:[{id:"email-sent",value:"Gracias por contactarte con nosotros <<USERNAME>>, muy pronto tendrás noticias nuestras! :)"},{id:"email-not-sent",value:"Disculpa las molestias <<USERNAME>>, en este momento estamos presentando problemas :( escribenos a <b >info@plentycode.com</b> y comentanos!"}],labels:[]},$(function(){window.location.hash&&setTimeout("showContent()",200),$("body").click(function(){showContent()}),$(".menu-bottom, .plenty-info-box, .plenty-social").click(function(a){a.stopPropagation()}),$(".plenty-icon").click(function(){$(".plenty-icon").removeClass("selected"),$(this).addClass("selected")}),screen.width<=699&&$("body").addClass("mobile")}),function(){window.plenty={models:{},collections:{},views:{},router:{},util:{},api:{},resources:{}},plenty.apiPath="http://api.plentycode.com/"}(),plenty.api.sendContactEmail=function(a){return $.post(plenty.apiPath+"SendEmail",a)},plenty.util.validateForm=function(a){var b=!0;return a.find(".required.error").removeClass("error"),$(a.find(".required")).each(function(){var a=$(this);a.val()||a.text()||(b=!1,a.addClass("error"))}),b},plenty.util.setLoading=function(a){a.find("input,button,textarea").attr("disabled","disabled"),a.append('<div class="loading"></div>')},plenty.util.removeLoading=function(a){a.find(".loading").remove(),a.find("input,button,textarea").removeAttr("disabled")},plenty.util.getResources=function(a){a&&localStorage.setItem("language",a);var b=localStorage.getItem("language")||window.navigator.userLanguage||window.navigator.language,c=resources.en;return b.indexOf("es")>-1&&(c=resources.es),plenty.resources=c,c},plenty.util.getMessage=function(a,b){var c="";if(plenty.resources&&plenty.resources.messages){var d=_.findWhere(plenty.resources.messages,{id:a});d&&(c=d.value,b&&$.each(b,function(a){_.map(b[a],function(a,b){var d="<<"+b.toUpperCase()+">>";c=c.replace(new RegExp(d,"g"),a)})}))}return c};